<app-header
  title="{{ 'MODULES.CHALLENGE.CREATE_CHALLENGE' | translate }}"></app-header>

<ion-content scrollEvents="true">
  <!-- Container -->
  <div class="container max-w-lg mx-auto">
    <form
      class="flex flex-col space-y-4 mx-4 my-2"
      [formGroup]="createChallengeForm"
      (submit)="createChallenge()">
      <!-- Title -->
      <input
        type="text"
        placeholder="Challenge Title"
        formControlName="title"
        class="input w-full max-w-xl input-bordered input-primary"
        [class.border-rose-600]="createChallengeForm.get('title')?.invalid"
        [class.border-slate-200]="createChallengeForm.get('title')?.valid" />
      <!-- ./Title -->

      <!-- Video Section -->
      <div class="max-w-xl">
        <p class="text-xl text-slate-800">
          {{ 'MODULES.CHALLENGE.UPLOAD_VIDEO' | translate }}
        </p>

        <label
          class="flex justify-center w-full h-32 px-4 transition bg-white border-2 border-gray-100 rounded-xl appearance-none cursor-pointer hover:border-gray-400 focus:outline-none">
          <span class="flex items-center space-x-2">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-6 h-6 text-gray-600"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
            </svg>
            <span class="font-medium text-gray-600">
              {{ video?.name ?? 'COMMON.DROP_FILE_TO_ATTACH' | translate }}
            </span>
          </span>
          <input
            type="file"
            accept="video/*"
            name="file_upload"
            class="hidden"
            (change)="handleVideo($event)" />
        </label>
      </div>
      <!-- ./ Video Section -->

      <!-- Description Section -->
      <div>
        <p class="text-xl text-slate-800">
          {{ 'MODULES.CHALLENGE.DESCRIPTION' | translate }}
        </p>
        <textarea
          style="margin-top: -0.14rem"
          rows="3"
          class="textarea w-full textarea-bordered"
          formControlName="description"
          [class.border-rose-600]="
            createChallengeForm.get('description')?.invalid
          "
          [class.border-slate-200]="
            createChallengeForm.get('description')?.valid
          "
          maxlength="250"></textarea>
      </div>
      <!-- ./Description Section -->

      <!-- Select Discipline -->
      <app-select-sport
        (selectedSportValueEmitter)="setSportFilter($event)"></app-select-sport>
      <!-- ./Select Discipline -->

      <!-- Level Filter Section -->
      <div class="text-center">
        <app-select-level
          (selectedValueValueEmitter)="
            setLevelFilter($event)
          "></app-select-level>
      </div>
      <!-- ./Level Filter Section -->

      <!-- Button Section -->
      <div class="flex justify-center pt-4">
        <button class="btn btn-outline w-1/3 mr-6 normal-case">
          {{ 'COMMON.CANCEL' | translate }}
        </button>

        <button type="submit" class="btn btn-success normal-case w-1/3">
          {{ 'COMMON.CONFIRM' | translate }}
        </button>
      </div>
    </form>
  </div>
</ion-content>
